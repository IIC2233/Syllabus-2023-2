import sys
import unittest
import copy

# Advertencia, la siguiente línea solo es utiliza por el cuerpo docente.
# Se considerará una mala práctica ocuparlo en sus evaluaciones.
sys.path.append("..")

from tablero import Tablero
from pieza_explosiva import PiezaExplosiva


class TestTableroTransformado(unittest.TestCase):
    # Ejemplo básico
    def test_tablero_vacio(self):
        tablero_str = [
            ["--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--"],
            ["--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--"],
            ["--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--"],
            ["--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--"],
            ["--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--"],
            ["--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--"],
            ["--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--"],
            ["--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--"],
            ["--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--"],
            ["--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--", "--"],
        ]
        tablero = Tablero(copy.deepcopy(tablero_str))
        respuesta = tablero.tablero_transformado
        # Verificar formato y respuesta
        self.assertIsInstance(respuesta, list)
        self.assertListEqual(respuesta, tablero_str)

    def test_transformar_1(self):
        tablero_str = [
            ['PP', '--', 'R8', 'PP', 'H8', 'PP', '--', '--', 'PP', '--'],
            ['--', 'R8', '--', '--', 'H8', 'R7', '--', 'H8', 'R9', 'PP'],
            ['PP', 'R7', 'PP', '--', '--', 'PP', 'PP', 'V8', 'R7', 'V4'],
            ['PP', 'V5', 'PP', 'R7', 'PP', 'PP', '--', 'V4', '--', '--'],
            ['PP', 'PP', 'H8', '--', '--', 'R7', 'R9', 'PP', 'PP', 'PP'],
            ['PP', 'R7', '--', 'PP', 'PP', '--', '--', 'PP', 'V8', '--'],
            ['V9', 'PP', 'PP', '--', '--', 'PP', 'H3', 'PP', 'V8', 'PP'],
            ['V8', 'H8', 'R1', 'PP', '--', '--', 'PP', 'PP', '--', 'R6'],
            ['H8', 'V8', 'PP', 'V9', 'PP', 'PP', 'PP', 'PP', 'H4', 'PP'],
            ['V9', 'R7', '--', '--', 'V8', 'H8', '--', '--', 'PP', 'PP'],
        ]
        tablero = Tablero(copy.deepcopy(tablero_str))
        respuesta = tablero.tablero_transformado
        # Verificar formato y respuesta
        self.assertIsInstance(respuesta, list)

        for y in range(len(tablero_str)):
            for x in range(len(tablero_str[1])):
                if tablero_str[y][x] == "--":
                    self.assertEqual(respuesta[y][x], "--")
                elif tablero_str[y][x] == "PP":
                    self.assertEqual(respuesta[y][x], "PP")
                else:
                    self.assertIsInstance(respuesta[y][x], PiezaExplosiva)
                    respuesta_esperada = PiezaExplosiva(
                        int(tablero_str[y][x][1:]),
                        tablero_str[y][x][0],
                        [y, x]
                    )
                    self.assertEqual(respuesta[y][x].__dict__, respuesta_esperada.__dict__)


    def test_transformar_2(self):
        tablero_str = [
            ['--', 'R7', '--', 'PP', 'V8', 'V8', 'PP', '--', '--', 'V8', 'H8', '--', 'V8', 'PP', '--', '--', 'V8', 'H8', 'R7', 'R7'],
            ['--', 'R7', '--', '--', 'V8', 'V8', 'V7', '--', 'PP', 'PP', 'R7', 'PP', '--', '--', 'PP', '--', 'R7', '--', 'R9', 'R7'],
            ['R3', 'V8', '--', '--', '--', '--', 'PP', 'V8', 'PP', 'PP', 'PP', '--', 'PP', 'R7', 'V8', 'PP', 'PP', 'R7', 'PP', 'PP'],
            ['PP', 'H1', 'R7', '--', 'PP', 'PP', '--', '--', '--', 'PP', 'R3', 'R7', '--', '--', '--', 'PP', '--', '--', 'PP', '--'],
            ['PP', '--', '--', 'R7', '--', '--', '--', 'R7', 'PP', '--', 'H8', 'R7', '--', 'PP', 'R7', '--', 'PP', '--', 'PP', '--'],
            ['R7', 'H8', '--', '--', '--', 'PP', 'PP', 'PP', 'PP', 'V8', 'PP', '--', '--', '--', 'R7', 'H8', 'PP', 'PP', '--', '--'],
            ['PP', 'PP', 'PP', '--', 'PP', 'PP', '--', 'R7', 'PP', 'PP', 'V8', 'PP', 'V8', 'PP', 'PP', 'PP', 'V8', 'PP', 'R7', 'PP'],
            ['--', 'PP', 'V8', 'PP', 'PP', '--', 'PP', '--', 'PP', '--', 'PP', '--', 'PP', 'PP', 'H9', 'PP', 'PP', 'PP', '--', 'PP'],
            ['PP', 'PP', '--', 'PP', 'PP', '--', 'R7', '--', 'H8', '--', 'PP', '--', 'R7', 'V1', 'R7', 'PP', 'V8', '--', 'PP', '--'],
            ['--', '--', 'H7', 'PP', 'PP', '--', 'PP', 'R7', '--', '--', 'PP', 'PP', 'H8', 'PP', 'PP', '--', '--', 'PP', 'PP', '--'],
            ['PP', '--', '--', 'PP', 'H8', 'PP', 'PP', 'PP', 'PP', 'PP', '--', 'PP', 'V8', 'PP', 'R4', 'PP', 'H8', 'V8', '--', '--'],
            ['V8', 'R7', 'PP', 'PP', 'PP', 'PP', '--', 'PP', 'PP', 'R7', 'PP', 'R7', 'H6', '--', '--', '--', '--', 'PP', 'H8', 'R8'],
            ['V6', 'PP', 'PP', 'PP', '--', 'PP', 'PP', 'V8', 'PP', 'V5', '--', 'PP', '--', 'R4', 'R8', '--', '--', '--', '--', 'PP'],
            ['H8', 'H1', 'PP', 'H8', '--', '--', '--', 'H8', 'V9', 'PP', 'PP', 'R7', '--', 'PP', '--', 'H8', '--', 'R7', 'R7', 'H8'],
            ['PP', 'H8', 'PP', '--', 'PP', 'PP', 'R7', '--', '--', '--', 'PP', 'V8', 'PP', '--', '--', 'H8', 'PP', '--', '--', 'R7'],
            ['R7', 'V2', '--', 'R4', '--', 'PP', 'PP', 'PP', '--', '--', '--', 'R7', 'PP', 'PP', 'PP', 'H9', 'R7', 'H8', '--', '--'],
            ['PP', '--', 'H8', 'PP', '--', 'R7', 'PP', '--', '--', '--', 'PP', 'PP', '--', '--', 'PP', 'PP', 'H8', '--', 'PP', 'PP'],
            ['PP', '--', 'PP', '--', '--', 'PP', 'PP', '--', 'R7', '--', 'H1', 'PP', 'PP', '--', 'PP', 'PP', 'R7', 'PP', '--', '--'],
            ['R7', '--', '--', '--', '--', '--', 'PP', 'H8', '--', 'R7', 'V8', 'PP', 'V7', '--', 'R7', '--', '--', '--', 'PP', 'PP'],
            ['H8', '--', 'PP', '--', '--', 'R7', 'PP', 'PP', 'PP', 'H4', 'PP', 'PP', '--', '--', 'H8', 'R7', 'PP', 'H8', '--', 'H2'],
        ]
        tablero = Tablero(copy.deepcopy(tablero_str))
        respuesta = tablero.tablero_transformado
        # Verificar formato y respuesta
        self.assertIsInstance(respuesta, list)

        for y in range(len(tablero_str)):
            for x in range(len(tablero_str[1])):
                if tablero_str[y][x] == "--":
                    self.assertEqual(respuesta[y][x], "--")
                elif tablero_str[y][x] == "PP":
                    self.assertEqual(respuesta[y][x], "PP")
                else:
                    self.assertIsInstance(respuesta[y][x], PiezaExplosiva)
                    respuesta_esperada = PiezaExplosiva(
                        int(tablero_str[y][x][1:]),
                        tablero_str[y][x][0],
                        [y, x]
                    )
                    self.assertEqual(respuesta[y][x].__dict__, respuesta_esperada.__dict__)


    def test_transformar_3(self):
        tablero_str = [
            ['--', 'V8', '--', '--', '--', 'PP', '--', 'H8', '--', 'PP', 'PP', 'PP', 'V8', '--', '--', '--', 'R1', '--', 'V8', '--', 'H8', '--', 'PP', 'H8', '--', 'R9', '--', 'PP', 'V8', 'V1', 'V8', '--', '--', '--', 'PP', 'PP', '--', '--', '--', 'V8', 'R7', 'R7', 'PP', 'H8', 'H8', '--', 'V7', 'R9', '--', 'R7'],
            ['PP', 'R7', 'V8', 'PP', 'PP', '--', 'PP', '--', 'H8', 'PP', '--', 'H8', 'PP', 'PP', '--', '--', 'PP', 'PP', 'PP', 'R7', 'PP', 'PP', 'PP', 'V8', 'PP', '--', 'PP', '--', 'PP', '--', 'H8', 'PP', 'PP', '--', 'V8', '--', 'R7', 'PP', 'V8', 'PP', 'H8', 'R9', 'H8', 'PP', 'V8', 'H8', 'PP', '--', 'V8', 'PP'],
            ['--', 'V8', 'R7', 'R2', '--', '--', 'PP', 'R9', 'PP', '--', 'PP', '--', 'V8', 'H8', 'PP', '--', 'PP', 'PP', 'H8', '--', 'V8', 'V8', '--', '--', '--', 'H8', 'PP', 'V8', 'H8', '--', 'PP', 'R9', 'PP', 'R7', 'PP', 'R9', '--', 'V8', 'PP', 'R7', 'H8', '--', 'R7', 'H8', '--', 'PP', 'R7', 'H8', '--', 'PP'],
            ['PP', 'R7', 'R7', 'R7', 'PP', '--', 'H8', 'PP', 'V8', 'R7', 'R7', 'V8', '--', 'PP', '--', 'PP', 'PP', 'H8', 'PP', '--', 'PP', 'V8', 'PP', '--', '--', 'R7', '--', 'PP', '--', 'PP', 'V8', 'V8', '--', 'PP', 'R9', 'H5', '--', '--', 'H8', 'PP', 'V8', '--', 'PP', 'PP', '--', 'PP', 'PP', 'PP', '--', 'PP'],
            ['--', 'R9', '--', 'PP', 'PP', 'R7', 'H6', '--', 'PP', 'R7', '--', '--', 'PP', 'PP', 'R7', '--', 'PP', 'V8', '--', 'H8', 'PP', '--', '--', 'PP', 'PP', 'PP', '--', 'R7', 'V8', 'PP', 'V8', 'PP', '--', 'H8', 'PP', 'PP', '--', 'PP', '--', '--', '--', 'H8', '--', '--', 'PP', '--', 'R9', 'V8', 'PP', 'PP'],
            ['--', 'H8', '--', 'PP', '--', 'R7', '--', 'PP', '--', '--', 'R9', 'PP', '--', 'PP', '--', 'R9', 'V8', 'H8', 'R7', '--', 'PP', 'H8', 'R9', 'R7', '--', 'H8', 'R9', 'H8', 'PP', 'H8', '--', 'PP', 'R7', 'PP', '--', 'R9', '--', '--', 'PP', 'PP', 'PP', 'V8', '--', 'H8', '--', 'PP', '--', 'PP', '--', 'V8'],
            ['PP', 'PP', '--', 'PP', '--', '--', 'PP', '--', '--', 'V8', 'H8', 'H8', 'PP', 'H8', 'PP', 'PP', 'PP', '--', 'PP', 'PP', '--', 'R9', 'PP', 'V8', 'V8', 'PP', '--', '--', 'PP', 'V8', 'H8', 'PP', 'PP', '--', '--', 'PP', 'PP', '--', 'R7', 'PP', 'V1', 'PP', 'PP', 'PP', '--', '--', '--', '--', 'V8', '--'],
            ['--', 'R7', '--', 'PP', '--', 'PP', '--', '--', 'R7', '--', '--', '--', '--', 'PP', 'PP', 'PP', 'PP', 'H6', 'PP', 'PP', 'PP', '--', 'V8', '--', 'PP', '--', '--', '--', 'H8', 'R9', '--', 'PP', '--', '--', '--', '--', 'V8', 'R7', 'H8', 'PP', 'V8', '--', '--', 'V8', 'R7', '--', '--', '--', 'V8', 'R9'],
            ['PP', 'R7', '--', 'H8', 'PP', 'R7', 'H8', '--', '--', '--', 'R7', 'H8', 'V8', '--', 'PP', 'R9', '--', 'R7', '--', 'PP', 'PP', '--', '--', '--', 'PP', 'PP', 'R7', '--', 'PP', 'V8', 'R7', 'PP', '--', 'PP', 'PP', 'PP', 'R7', 'PP', '--', 'PP', 'PP', '--', 'PP', '--', 'PP', 'R7', '--', 'PP', '--', 'R9'],
            ['--', 'R9', '--', 'R7', '--', 'V8', 'PP', '--', 'PP', '--', '--', 'PP', 'PP', '--', 'V8', '--', '--', 'PP', '--', '--', '--', 'V8', '--', '--', 'V8', 'PP', 'PP', 'PP', '--', 'PP', 'V8', 'R7', 'PP', '--', 'PP', 'PP', 'H8', 'PP', 'H8', 'PP', 'PP', 'PP', 'PP', 'PP', 'PP', '--', 'PP', '--', 'H8', 'PP'],
            ['PP', 'PP', 'R9', '--', 'H8', '--', '--', '--', 'PP', '--', 'H8', '--', 'H8', 'PP', '--', '--', 'R9', '--', 'H8', 'R7', 'PP', '--', 'PP', '--', 'R9', 'PP', 'PP', 'H8', 'PP', 'PP', '--', '--', 'R7', 'PP', 'V8', 'H8', 'V8', '--', '--', 'PP', 'R9', 'PP', 'V2', 'PP', 'R7', 'V8', 'V8', '--', '--', '--'],
            ['PP', '--', 'H8', 'PP', 'R9', 'V8', 'PP', 'PP', 'PP', '--', 'H8', '--', '--', '--', 'PP', 'H8', '--', 'PP', '--', 'V8', 'PP', 'R7', '--', '--', 'H8', '--', 'PP', 'PP', 'PP', 'PP', 'V7', 'R7', 'H8', '--', 'R7', 'H8', 'R9', 'V8', 'R7', 'H8', '--', 'R9', '--', '--', 'V8', 'R7', 'PP', '--', 'PP', 'V8'],
            ['--', 'R7', '--', 'PP', '--', 'H8', 'PP', 'PP', 'PP', 'PP', '--', 'PP', '--', 'H8', 'R7', '--', '--', '--', 'PP', 'PP', 'PP', 'PP', 'PP', 'V8', 'PP', 'PP', 'R7', 'V8', 'PP', '--', 'PP', '--', '--', 'V8', '--', 'R7', '--', '--', 'PP', 'PP', '--', 'R7', 'V9', '--', 'R9', 'H6', 'PP', 'R9', '--', 'PP'],
            ['V8', 'R7', 'PP', 'PP', 'H8', 'R9', 'PP', 'PP', '--', 'PP', 'PP', 'PP', 'PP', '--', '--', 'V8', 'PP', 'H8', 'R9', 'V5', '--', '--', '--', '--', 'PP', 'PP', 'R9', 'R9', 'PP', 'V8', '--', 'PP', 'H8', '--', 'V8', 'V8', '--', '--', '--', '--', 'H8', 'H8', 'PP', 'PP', 'PP', '--', 'PP', 'PP', 'PP', 'R7'],
            ['PP', 'R9', 'PP', 'V8', 'H8', 'PP', '--', 'PP', 'PP', '--', 'PP', '--', 'H8', 'H8', 'PP', 'H6', '--', 'H8', '--', 'H8', '--', 'V8', '--', 'PP', 'PP', '--', 'PP', 'PP', 'R7', '--', 'PP', 'V8', '--', '--', 'H8', 'R7', 'H8', '--', 'PP', 'PP', '--', 'H8', 'PP', 'R9', 'PP', '--', '--', 'PP', 'PP', 'H8'],
            ['PP', 'PP', '--', 'PP', 'PP', 'R7', 'R7', 'PP', '--', '--', 'PP', '--', 'PP', '--', 'PP', '--', 'V8', 'H8', 'V8', '--', 'H8', 'V8', '--', 'H8', '--', '--', 'PP', 'PP', '--', 'R7', '--', 'R7', 'PP', 'PP', '--', '--', 'PP', 'R7', '--', 'R7', '--', 'R7', '--', '--', 'PP', '--', '--', 'R7', 'PP', 'PP'],
            ['R9', '--', '--', '--', 'PP', '--', '--', '--', 'R9', 'PP', 'R7', '--', 'PP', '--', '--', 'PP', 'R7', 'H8', '--', 'PP', '--', 'H8', 'H8', 'PP', 'PP', 'R9', 'V6', 'R7', 'PP', '--', '--', 'H8', '--', 'PP', 'PP', 'PP', 'PP', '--', 'R7', 'PP', 'PP', '--', 'V8', 'R7', 'PP', 'R7', '--', 'PP', 'PP', '--'],
            ['PP', '--', 'PP', 'H8', '--', '--', '--', '--', 'R7', 'H8', 'PP', '--', 'R7', 'R7', '--', 'R6', 'R7', 'R7', 'PP', 'PP', 'R7', '--', '--', '--', '--', 'R7', '--', 'R7', 'PP', 'PP', 'H8', 'PP', '--', 'PP', '--', 'H8', 'PP', 'H8', 'PP', '--', 'PP', 'PP', 'R9', 'PP', 'PP', 'R9', 'R7', 'PP', '--', 'PP'],
            ['V8', 'PP', 'PP', 'PP', '--', 'V8', 'PP', '--', 'R9', '--', 'H8', 'H8', '--', 'H8', '--', 'R7', 'PP', '--', 'PP', 'PP', 'PP', '--', 'PP', 'PP', 'PP', 'PP', '--', '--', 'V8', '--', 'PP', 'H8', 'R9', 'PP', '--', '--', 'PP', 'V5', 'H8', '--', '--', 'PP', 'H4', '--', 'PP', '--', 'R7', '--', '--', '--'],
            ['--', 'PP', 'R9', 'V8', 'PP', '--', 'PP', '--', '--', '--', 'V8', 'PP', 'R7', 'PP', '--', '--', 'R9', '--', 'V8', 'H8', '--', '--', 'PP', '--', 'PP', 'H8', 'PP', 'PP', 'PP', 'R9', 'PP', 'R9', 'V8', 'PP', '--', 'PP', 'PP', 'R7', 'PP', '--', '--', 'PP', 'PP', 'H8', '--', '--', 'H8', '--', '--', '--'],
            ['PP', 'V8', 'H8', 'PP', 'H8', 'PP', '--', 'R7', 'H8', '--', 'PP', '--', 'H8', 'R7', 'V8', 'R7', 'V8', 'R7', 'H8', 'R7', '--', 'R9', 'PP', 'H8', 'PP', '--', 'PP', 'V8', 'PP', 'PP', 'H8', '--', '--', 'PP', 'PP', 'PP', '--', 'V8', 'V8', '--', 'PP', 'R9', 'PP', '--', 'V8', 'H8', '--', 'PP', 'R9', '--'],
            ['--', '--', '--', 'PP', 'PP', 'R7', 'PP', 'H8', 'PP', '--', 'PP', '--', '--', 'R9', 'V8', 'V8', '--', '--', '--', 'PP', '--', '--', '--', '--', 'V8', '--', 'V8', 'PP', 'R9', '--', 'PP', '--', '--', 'H8', '--', '--', 'PP', 'H8', '--', 'R7', '--', 'H8', 'PP', '--', '--', 'PP', 'H2', 'PP', 'R7', '--'],
            ['PP', '--', 'V8', 'PP', 'R7', '--', 'PP', 'PP', 'PP', 'PP', 'V8', 'R7', 'H8', '--', '--', 'V8', '--', '--', '--', '--', '--', 'PP', '--', '--', '--', 'R9', 'H8', 'R9', 'PP', 'R7', '--', 'PP', '--', 'H8', 'H8', 'H8', 'V8', 'PP', 'PP', '--', 'V8', 'PP', '--', '--', 'PP', 'PP', '--', 'PP', 'H8', 'PP'],
            ['--', '--', 'H8', 'PP', '--', 'PP', '--', '--', 'PP', '--', 'R7', 'V8', '--', 'PP', 'R7', 'R7', '--', '--', 'R9', 'R7', 'PP', '--', 'V8', '--', 'PP', 'R9', '--', '--', 'V8', 'PP', 'PP', 'PP', 'PP', 'PP', '--', 'R9', 'PP', 'R9', 'PP', 'V3', 'PP', '--', 'R7', '--', 'PP', '--', 'H8', '--', '--', '--'],
            ['H8', 'H8', 'R9', '--', '--', 'R7', 'H8', '--', '--', 'H8', '--', '--', 'V8', '--', 'PP', 'PP', 'PP', 'PP', 'PP', '--', 'H8', 'PP', 'PP', 'R7', '--', 'PP', 'H8', 'H8', 'R7', 'R9', '--', '--', 'PP', 'H8', '--', '--', 'PP', 'PP', '--', 'R7', '--', 'PP', 'H8', 'H8', 'PP', 'R7', '--', 'H8', 'H8', 'H8'],
            ['V8', 'V8', 'PP', '--', 'H7', 'PP', 'H8', 'H8', 'R7', '--', 'PP', '--', 'R7', 'R7', '--', 'PP', '--', '--', '--', 'R4', 'R7', 'PP', '--', '--', 'PP', '--', 'PP', 'V8', 'H8', '--', 'V8', '--', '--', '--', '--', 'H8', '--', 'R7', '--', 'R7', 'PP', 'R7', 'H8', 'PP', 'H8', 'PP', 'V8', '--', 'R7', 'PP'],
            ['H8', 'R7', '--', '--', '--', '--', 'PP', 'PP', 'PP', 'V8', '--', 'PP', 'V8', 'R7', '--', 'PP', 'PP', 'R7', 'H8', 'PP', 'PP', 'R7', 'PP', 'H6', 'R7', '--', 'PP', 'V8', 'V8', 'PP', 'R9', 'H8', 'R9', 'PP', 'H8', 'PP', 'R7', '--', '--', 'V8', '--', 'PP', '--', 'R7', 'PP', 'PP', 'PP', 'PP', 'PP', '--'],
            ['--', 'PP', 'PP', 'V8', 'R9', 'H8', '--', 'R7', 'PP', 'PP', 'R9', 'PP', '--', '--', 'PP', 'PP', 'R7', 'PP', 'PP', 'PP', '--', 'PP', '--', '--', 'PP', 'PP', '--', 'H5', '--', 'V8', '--', '--', 'PP', 'PP', '--', 'PP', 'V8', 'V8', '--', 'PP', 'R7', '--', 'PP', '--', '--', 'PP', '--', 'V8', 'PP', '--'],
            ['V8', 'H8', 'PP', 'H8', 'V8', 'H8', 'V8', '--', '--', 'V8', 'R7', 'R7', 'PP', 'H1', 'PP', '--', '--', 'R7', 'R7', 'H5', 'PP', 'H8', '--', 'R7', '--', '--', 'R7', 'PP', 'PP', '--', 'PP', '--', 'PP', '--', 'PP', 'PP', 'R9', 'R7', 'PP', 'PP', '--', '--', 'R7', 'PP', 'PP', '--', '--', 'R7', 'H8', '--'],
            ['PP', '--', 'PP', 'PP', '--', '--', 'PP', '--', 'H8', 'PP', 'PP', 'PP', 'V8', 'PP', 'PP', 'V8', 'PP', 'H8', 'V8', 'R9', '--', '--', 'PP', 'H8', 'R7', 'H8', 'R7', 'R7', 'R7', 'R7', '--', '--', '--', '--', 'PP', 'PP', '--', 'H8', 'PP', 'PP', '--', '--', 'PP', 'V8', 'PP', '--', '--', 'R9', '--', 'H8'],
            ['--', '--', '--', 'PP', 'R7', 'PP', 'PP', 'R7', 'R7', 'PP', 'PP', 'V8', 'PP', '--', 'PP', 'V8', '--', 'PP', 'R5', '--', 'H8', '--', 'R7', '--', 'R7', 'R9', '--', 'PP', '--', '--', 'H8', 'H8', 'PP', 'PP', '--', '--', 'V8', 'V8', 'PP', '--', 'PP', '--', '--', '--', 'PP', 'PP', '--', 'PP', '--', 'PP'],
            ['PP', '--', '--', 'R7', 'H8', 'PP', 'H8', 'H8', 'PP', 'R7', 'PP', 'PP', 'PP', 'H8', 'R7', '--', '--', 'V8', '--', 'V8', 'R7', '--', '--', 'R7', 'PP', '--', 'R9', '--', 'R9', 'PP', '--', '--', 'V8', 'V8', 'H8', 'PP', 'PP', '--', 'PP', '--', 'PP', 'H8', 'R7', 'PP', 'H8', 'PP', '--', '--', 'PP', 'V8'],
            ['--', 'V8', 'PP', '--', 'PP', 'R7', '--', 'PP', '--', 'R9', '--', '--', 'H8', '--', '--', '--', '--', '--', '--', 'R9', 'H8', 'R7', 'R7', 'V8', '--', 'H8', '--', '--', 'V8', 'PP', 'V8', 'PP', 'R7', '--', '--', '--', 'PP', 'V1', '--', 'H8', 'PP', 'PP', '--', 'R7', '--', '--', '--', 'PP', 'PP', 'R7'],
            ['--', 'H8', 'PP', '--', '--', '--', '--', 'PP', 'R7', 'PP', '--', 'PP', 'PP', 'R9', 'PP', 'R9', 'V8', 'H8', 'R7', 'PP', 'PP', 'V1', 'R9', 'PP', '--', 'V8', 'R7', 'PP', '--', 'R9', 'PP', 'PP', 'V8', 'R7', '--', 'H8', 'V8', 'PP', 'R9', 'V8', 'R9', '--', 'H8', 'R7', '--', 'PP', 'PP', '--', '--', 'H8'],
            ['R5', '--', 'V8', '--', 'PP', 'R7', '--', 'V8', 'R7', 'H8', 'PP', 'PP', 'PP', '--', 'PP', 'PP', 'V8', 'R7', 'R7', 'R7', 'V8', 'PP', 'V8', 'R3', '--', '--', 'PP', 'PP', '--', 'R7', '--', 'PP', 'H8', 'PP', '--', '--', 'PP', 'H7', 'R9', 'PP', 'R7', 'R7', '--', 'V8', 'PP', 'PP', '--', 'PP', 'PP', '--'],
            ['--', 'V8', 'PP', 'PP', '--', 'PP', 'PP', 'PP', '--', 'PP', 'PP', 'V8', 'PP', 'V8', '--', 'PP', '--', 'R7', 'PP', 'R7', 'R7', 'PP', '--', 'H8', '--', '--', 'PP', 'V8', '--', '--', 'H8', '--', 'PP', '--', '--', 'PP', 'PP', '--', '--', 'R7', 'PP', 'V8', '--', '--', '--', '--', 'PP', 'R7', 'V2', '--'],
            ['V8', 'R7', '--', 'PP', 'R9', 'H8', 'H8', 'PP', 'V8', '--', 'R7', '--', '--', 'PP', 'PP', '--', '--', '--', 'H8', 'R7', 'R7', '--', 'V8', 'PP', 'PP', '--', '--', 'PP', 'H8', 'PP', 'V8', '--', '--', 'PP', '--', 'V8', '--', 'PP', 'R7', '--', 'PP', 'PP', 'PP', 'PP', '--', 'PP', 'PP', '--', 'PP', 'H8'],
            ['H8', '--', '--', 'H8', 'R9', '--', 'PP', 'R7', '--', 'PP', 'PP', 'R7', 'PP', '--', 'PP', 'PP', 'PP', 'H8', 'R7', 'R7', '--', 'H8', '--', 'V8', 'PP', 'PP', '--', 'PP', '--', 'H8', 'V8', 'H8', 'PP', '--', 'PP', '--', 'R9', 'V8', 'PP', 'R9', 'H8', 'V8', 'H8', 'R9', 'PP', 'PP', 'PP', '--', '--', '--'],
            ['PP', 'PP', 'V7', 'H8', 'PP', 'PP', 'R7', '--', '--', 'PP', '--', 'PP', 'PP', 'H8', 'PP', '--', '--', 'R7', '--', 'V8', 'R7', '--', 'PP', 'PP', 'PP', '--', '--', 'PP', 'PP', 'H8', 'H8', '--', 'R7', 'PP', 'PP', 'PP', 'H8', 'PP', '--', 'R8', '--', 'H8', 'H8', 'PP', 'PP', 'PP', 'H8', 'H8', 'PP', 'PP'],
            ['H8', 'PP', 'PP', 'R9', '--', 'PP', 'H8', 'H8', 'R7', 'H6', 'PP', 'V3', 'PP', '--', 'PP', 'H8', 'R9', '--', 'R7', 'H8', 'R7', '--', 'PP', 'V8', '--', '--', 'R7', 'R7', 'PP', 'H8', 'PP', 'PP', 'PP', 'PP', 'PP', '--', '--', 'R7', '--', '--', 'V8', '--', 'PP', 'PP', 'PP', 'PP', 'V8', 'PP', '--', '--'],
            ['--', '--', 'PP', '--', '--', 'PP', 'R7', 'H8', 'R7', '--', 'V3', 'PP', 'PP', 'PP', '--', '--', 'R7', '--', 'R7', 'PP', 'PP', 'PP', 'PP', 'H8', 'R9', '--', 'PP', 'V8', 'PP', 'R9', '--', 'R9', 'R5', 'PP', 'R9', 'PP', '--', 'PP', 'PP', 'PP', 'PP', 'PP', 'PP', '--', '--', '--', 'PP', 'V1', 'PP', 'PP'],
            ['--', 'V8', 'PP', 'H8', 'PP', '--', 'H8', 'PP', 'R7', 'PP', 'V4', 'PP', 'PP', '--', 'H8', '--', '--', 'PP', 'H8', 'R9', '--', 'PP', 'PP', 'R7', 'PP', '--', 'PP', 'PP', '--', 'PP', 'H8', 'R9', 'R9', 'V8', 'PP', 'H8', 'PP', 'PP', 'R7', '--', '--', 'R7', '--', '--', 'R9', 'PP', 'PP', 'R7', 'PP', 'PP'],
            ['R9', '--', 'V8', 'V8', 'PP', 'R7', '--', '--', '--', '--', '--', 'PP', '--', '--', 'PP', '--', '--', 'PP', 'H8', '--', '--', 'V8', 'R9', '--', 'PP', 'H8', 'V8', 'R9', '--', 'H8', 'R7', 'PP', '--', 'PP', '--', 'R7', 'V8', 'R7', 'PP', '--', 'PP', 'R7', '--', '--', 'R7', 'PP', 'R7', '--', 'PP', 'R7'],
            ['--', '--', 'R7', '--', 'H8', 'R5', 'PP', 'PP', '--', 'PP', 'V8', '--', 'H8', 'R7', 'R9', '--', 'R7', 'R7', 'R7', '--', '--', 'V8', '--', 'PP', '--', 'H8', 'H8', 'PP', '--', 'H8', 'PP', 'PP', '--', 'R7', 'R7', '--', 'R9', 'PP', 'PP', '--', '--', '--', 'PP', '--', '--', 'V8', 'V8', '--', 'V8', '--'],
            ['R9', 'R7', 'PP', 'PP', 'R9', 'R7', '--', 'PP', '--', 'PP', 'R7', 'PP', '--', 'H8', '--', 'PP', 'PP', 'PP', 'R9', '--', 'PP', 'R7', 'R7', 'V3', '--', '--', 'R9', '--', 'R9', '--', '--', 'V8', '--', 'H3', 'R9', 'H8', 'H8', 'H8', 'R7', 'R7', 'PP', 'H8', 'R9', 'R7', 'PP', '--', 'PP', 'H8', 'PP', 'PP'],
            ['PP', '--', '--', '--', '--', 'PP', 'H8', '--', '--', 'R7', 'H8', '--', 'PP', 'PP', 'R7', '--', 'PP', 'PP', '--', '--', 'PP', 'PP', 'R7', 'PP', '--', '--', 'PP', 'PP', '--', '--', '--', 'R7', 'PP', '--', 'V8', 'PP', '--', '--', 'R9', '--', 'R7', '--', 'PP', 'PP', 'R9', '--', 'R9', 'PP', '--', 'PP'],
            ['PP', 'R7', 'PP', 'V8', 'PP', 'R4', 'V8', 'PP', '--', 'H8', 'R7', '--', 'R7', '--', 'PP', 'PP', 'H8', '--', 'V6', '--', '--', '--', 'PP', '--', 'H8', 'V1', 'H8', '--', '--', 'H8', 'PP', 'V8', 'PP', 'V8', '--', '--', 'H8', 'PP', 'PP', '--', 'PP', '--', '--', 'PP', 'V8', 'R7', '--', 'PP', 'V8', '--'],
            ['--', '--', 'PP', 'R7', 'H8', 'H8', 'R7', '--', 'V2', 'V8', 'R7', 'PP', '--', 'H8', 'PP', 'PP', '--', '--', '--', 'R7', 'R9', 'H8', 'H8', 'PP', '--', 'R7', '--', '--', 'PP', 'PP', 'PP', '--', 'PP', '--', '--', 'R7', '--', 'PP', 'R7', 'PP', '--', 'PP', '--', 'PP', 'PP', '--', 'H6', 'PP', 'PP', '--'],
            ['H8', 'V5', 'R9', 'PP', 'PP', 'R9', '--', '--', 'PP', '--', 'PP', 'R7', 'V8', 'PP', 'PP', 'H6', 'PP', 'PP', 'PP', 'R9', 'PP', '--', 'R4', 'R9', 'PP', 'H8', 'PP', 'V8', 'PP', 'H8', '--', '--', '--', 'H8', 'R9', 'R7', 'PP', 'H8', '--', 'PP', 'PP', 'PP', 'PP', 'R7', 'H8', '--', '--', '--', 'H1', 'R7'],
            ['--', 'PP', '--', 'PP', 'V8', 'PP', 'H8', 'PP', 'H8', '--', '--', 'PP', '--', 'PP', 'R7', 'H8', 'PP', 'PP', 'R9', 'PP', 'PP', 'R7', 'PP', '--', 'R7', 'PP', '--', 'R7', '--', 'R7', 'R7', 'PP', '--', '--', '--', '--', '--', 'PP', 'PP', 'R7', 'R9', 'PP', 'PP', '--', 'H8', 'PP', 'PP', '--', '--', 'PP'],
        ]
        tablero = Tablero(copy.deepcopy(tablero_str))
        respuesta = tablero.tablero_transformado
        # Verificar formato y respuesta
        self.assertIsInstance(respuesta, list)

        for y in range(len(tablero_str)):
            for x in range(len(tablero_str[1])):
                if tablero_str[y][x] == "--":
                    self.assertEqual(respuesta[y][x], "--")
                elif tablero_str[y][x] == "PP":
                    self.assertEqual(respuesta[y][x], "PP")
                else:
                    self.assertIsInstance(respuesta[y][x], PiezaExplosiva)
                    respuesta_esperada = PiezaExplosiva(
                        int(tablero_str[y][x][1:]),
                        tablero_str[y][x][0],
                        [y, x]
                    )
                    self.assertEqual(respuesta[y][x].__dict__, respuesta_esperada.__dict__)


    def test_transformar_4(self):
        tablero_str = [
            ['R7', 'PP', 'PP', 'V8', 'PP', '--', '--', '--', 'R7', '--', 'PP', '--', '--', '--', 'PP', '--', '--', '--', 'V8', '--', 'V8', 'PP', '--', '--', '--', 'PP', 'V8', 'R7', 'PP', 'PP', 'H8', 'H8', 'PP', 'H8', 'PP', 'PP', 'V8', 'PP', 'PP', 'R7', 'V8', 'PP', 'V8', 'PP', '--', '--', 'V8', '--', 'H8', 'PP'],
            ['H8', 'PP', 'R7', '--', 'R7', '--', '--', 'PP', 'PP', 'R9', '--', 'V8', '--', '--', 'PP', 'R7', '--', 'V8', '--', 'R7', 'PP', 'H8', 'V8', '--', 'PP', 'PP', 'PP', '--', 'R9', 'H8', 'R7', 'V8', '--', 'H8', '--', 'R1', 'R7', '--', 'PP', 'PP', 'H8', 'V8', 'R7', 'H8', '--', '--', 'PP', '--', 'V1', '--'],
            ['V8', 'PP', '--', 'R7', '--', 'R7', 'R9', 'H8', 'PP', 'R7', '--', '--', 'PP', 'R7', 'PP', '--', 'H8', '--', 'PP', 'PP', 'V8', 'V8', 'PP', '--', 'PP', '--', 'H8', '--', 'PP', '--', 'PP', 'PP', 'PP', 'PP', 'PP', '--', 'PP', 'PP', 'PP', 'R7', 'V3', '--', 'V8', 'V8', 'H8', '--', 'PP', 'R9', '--', 'PP'],
            ['--', 'H8', 'PP', 'R7', '--', 'PP', 'PP', '--', '--', '--', 'PP', '--', '--', '--', '--', 'V8', 'PP', 'PP', 'R7', '--', 'PP', 'V8', 'R4', '--', 'PP', 'V8', 'R7', 'PP', '--', 'R7', 'PP', '--', 'PP', 'PP', 'PP', 'PP', 'PP', 'R7', 'R5', '--', '--', 'R7', '--', 'V7', 'R9', '--', 'V8', 'R9', '--', 'PP'],
            ['PP', '--', 'R7', 'PP', '--', 'V8', '--', '--', 'PP', 'PP', '--', 'PP', '--', 'R7', 'R7', 'PP', '--', '--', '--', 'PP', 'V8', 'PP', 'R9', '--', 'H8', '--', 'V8', 'PP', 'PP', 'H8', '--', 'PP', 'V8', 'R7', '--', '--', 'V8', 'H8', '--', 'R7', 'V8', 'PP', 'H8', 'V8', 'PP', '--', 'PP', '--', '--', 'PP'],
            ['PP', '--', 'PP', '--', 'V8', 'V8', 'R9', 'PP', '--', '--', 'PP', 'H8', 'PP', 'PP', 'PP', '--', '--', '--', 'V8', '--', '--', 'PP', 'H8', '--', '--', 'V8', 'R7', '--', 'PP', 'PP', '--', '--', 'PP', '--', '--', '--', '--', '--', 'PP', '--', 'PP', '--', 'V8', 'PP', 'R7', 'H8', 'PP', '--', '--', '--'],
            ['--', 'PP', 'PP', 'PP', 'PP', '--', '--', '--', 'PP', 'V8', 'H8', 'PP', '--', '--', 'PP', '--', 'PP', 'V8', 'PP', 'PP', 'H8', 'PP', '--', 'V8', 'H8', '--', 'PP', 'PP', '--', 'PP', 'R7', '--', '--', '--', '--', 'PP', 'V8', 'PP', '--', 'PP', '--', '--', 'PP', '--', 'PP', 'R9', '--', 'PP', '--', '--'],
            ['V8', 'H8', 'H4', 'H8', '--', '--', 'V8', 'PP', 'R9', '--', 'PP', 'R9', 'H5', 'R9', '--', '--', '--', 'PP', '--', 'R7', 'PP', 'PP', 'H8', 'PP', 'H8', 'R9', 'H8', '--', 'PP', '--', 'H8', 'V8', '--', '--', 'V4', 'PP', '--', 'PP', '--', '--', 'R5', 'H8', '--', 'H8', 'PP', '--', 'PP', 'R7', 'PP', 'R7'],
            ['PP', 'PP', 'PP', '--', '--', 'R9', 'R9', 'H8', 'PP', '--', '--', 'PP', '--', 'V8', 'V8', '--', 'V8', 'V8', '--', 'PP', 'V8', '--', '--', 'PP', 'H8', '--', 'PP', 'V8', '--', '--', '--', 'V8', '--', 'R9', 'R7', 'PP', '--', 'V8', 'H8', '--', '--', '--', '--', 'PP', 'H8', 'PP', 'PP', '--', 'PP', 'R7'],
            ['--', 'PP', 'PP', 'H3', 'R7', '--', 'V8', 'H8', 'R7', 'PP', 'R7', 'V8', 'PP', 'PP', 'PP', 'PP', 'H8', 'PP', 'R7', '--', 'V8', 'R9', 'R9', 'V8', '--', 'PP', '--', 'PP', '--', '--', '--', 'V8', 'PP', '--', '--', 'PP', 'PP', 'R7', 'PP', '--', '--', 'V8', 'PP', '--', 'PP', '--', 'PP', 'PP', 'PP', '--'],
            ['PP', 'PP', 'PP', 'PP', '--', '--', '--', 'H8', 'H8', '--', 'PP', '--', 'R7', 'V2', 'PP', '--', 'PP', 'PP', 'PP', '--', 'PP', 'PP', 'V8', 'H8', '--', 'R7', 'H8', 'R7', '--', '--', 'H8', '--', '--', 'PP', 'R7', 'PP', 'R2', 'PP', '--', 'PP', 'V8', '--', 'PP', '--', 'H8', 'V8', 'V8', '--', 'V8', 'V8'],
            ['PP', 'PP', 'PP', 'PP', 'H8', 'PP', '--', 'PP', '--', 'PP', 'PP', 'H8', 'PP', 'PP', 'PP', '--', '--', '--', '--', '--', 'H8', 'V8', '--', 'PP', '--', 'PP', 'V8', '--', '--', 'H8', 'H5', 'R7', 'H8', 'R7', '--', '--', '--', 'R9', 'R7', 'PP', 'PP', 'PP', 'PP', 'R9', 'R9', 'H8', 'PP', '--', '--', '--'],
            ['PP', 'H8', 'R7', 'PP', 'H8', 'V8', 'R7', 'H7', 'R7', '--', '--', 'R7', 'PP', 'PP', 'PP', '--', '--', 'R7', '--', '--', 'V8', 'PP', 'PP', '--', 'R7', 'PP', '--', 'R7', '--', '--', 'PP', '--', 'V8', '--', '--', 'PP', 'H8', 'H8', 'PP', '--', 'PP', 'R7', 'V8', 'PP', 'V8', 'R9', 'PP', 'PP', '--', 'H8'],
            ['PP', '--', '--', 'PP', 'PP', '--', 'H8', 'R9', 'PP', 'R9', 'V9', 'V8', 'V8', 'R7', '--', 'H8', '--', 'PP', '--', '--', '--', 'PP', 'R7', 'V8', 'R7', 'PP', 'PP', '--', 'R9', '--', 'PP', '--', '--', 'H8', '--', 'R9', 'R7', 'V8', 'V8', 'PP', '--', 'PP', '--', 'R7', 'PP', '--', 'PP', '--', '--', 'PP'],
            ['--', '--', '--', '--', 'V8', '--', 'PP', 'PP', 'R7', '--', '--', '--', 'R7', 'R7', '--', 'V8', 'V8', 'H8', 'PP', 'R7', '--', '--', '--', 'H8', 'PP', '--', '--', 'H8', 'PP', '--', '--', '--', '--', '--', 'PP', 'PP', 'R7', 'PP', 'H8', 'R9', '--', 'PP', 'V8', 'R7', 'H8', 'V8', 'H8', '--', 'H8', 'V8'],
            ['V8', 'PP', 'H8', '--', '--', 'R7', 'V8', '--', 'V8', 'V8', 'PP', '--', '--', '--', 'PP', 'PP', 'H8', '--', 'PP', 'PP', 'PP', 'PP', '--', '--', '--', '--', '--', 'PP', '--', 'PP', 'R4', 'PP', 'PP', 'PP', '--', '--', '--', 'R7', 'H8', 'R9', '--', 'R7', '--', 'V8', 'PP', '--', 'H8', 'R7', 'PP', 'R7'],
            ['PP', 'PP', 'V8', '--', 'H8', 'R7', 'V8', 'PP', 'PP', 'V8', 'PP', 'V8', 'R9', 'H8', 'PP', 'PP', 'H8', 'PP', 'R9', 'PP', '--', '--', '--', 'R9', '--', 'R9', '--', 'V8', '--', 'PP', 'PP', '--', 'R7', 'PP', 'R9', '--', 'PP', 'PP', 'PP', 'PP', 'PP', 'H8', '--', '--', 'R7', 'PP', 'PP', 'PP', 'PP', '--'],
            ['PP', 'PP', 'V8', 'R9', 'PP', '--', 'PP', '--', 'PP', '--', '--', 'H8', '--', 'R7', 'H8', '--', 'R7', 'PP', 'H8', '--', 'R7', '--', 'H8', 'PP', '--', 'R7', '--', 'H8', '--', 'PP', '--', 'R7', 'H8', 'PP', 'PP', 'PP', 'PP', 'V8', 'PP', 'V8', 'R7', '--', 'PP', 'H8', '--', 'R7', 'R9', 'H8', 'PP', 'H8'],
            ['V8', 'PP', 'PP', 'H8', '--', 'PP', 'PP', 'PP', 'PP', 'H4', '--', 'H8', '--', 'PP', 'PP', 'PP', 'R9', '--', 'PP', '--', '--', 'H8', 'PP', 'R3', 'R7', '--', '--', 'PP', 'R7', 'R7', 'PP', 'PP', 'PP', 'H8', '--', 'PP', '--', 'R4', 'PP', '--', 'R7', 'PP', 'PP', 'PP', '--', 'V8', '--', 'PP', 'PP', 'PP'],
            ['--', 'R9', '--', '--', '--', '--', 'PP', 'PP', '--', '--', 'PP', 'H8', 'R7', 'V3', '--', 'PP', '--', 'V8', '--', 'PP', 'PP', 'R7', 'R7', 'R9', '--', '--', 'H8', 'PP', 'R2', '--', 'V2', 'H1', 'V8', '--', 'PP', 'R7', 'PP', '--', 'V8', '--', 'PP', 'PP', 'PP', '--', 'PP', 'PP', '--', '--', 'PP', 'PP'],
            ['PP', 'PP', 'R7', '--', 'PP', 'PP', 'H8', 'PP', 'PP', 'H8', 'H9', 'V8', 'H8', '--', 'PP', '--', 'V8', 'PP', 'H8', 'H8', 'PP', '--', 'PP', '--', '--', '--', 'V8', 'PP', 'PP', 'PP', 'V8', 'PP', 'PP', 'PP', 'R5', '--', '--', 'PP', '--', 'PP', 'PP', '--', '--', 'PP', 'H8', 'PP', '--', 'PP', '--', '--'],
            ['V8', '--', 'R9', 'R9', '--', 'PP', '--', 'PP', '--', 'H8', 'V8', 'H4', 'PP', '--', '--', 'R7', 'PP', 'PP', 'R7', '--', 'V8', 'PP', '--', 'PP', 'PP', 'PP', 'PP', 'PP', 'R7', 'PP', '--', 'R7', 'R7', '--', 'PP', 'R7', 'V8', 'H8', 'R7', 'PP', 'PP', 'R8', 'PP', 'PP', 'PP', 'PP', 'V8', 'PP', '--', '--'],
            ['PP', 'PP', 'PP', 'PP', '--', 'PP', 'PP', '--', 'PP', 'PP', 'V8', 'PP', 'PP', 'PP', 'PP', 'R7', '--', '--', 'PP', '--', 'V8', 'PP', '--', 'H8', 'PP', '--', '--', 'PP', '--', 'V8', 'PP', 'R7', 'R9', 'R9', 'R7', 'PP', 'V8', '--', 'PP', 'PP', 'PP', 'R7', '--', 'H8', '--', 'R9', 'PP', '--', 'H8', 'PP'],
            ['R9', 'H8', '--', '--', 'PP', 'H8', 'R7', 'PP', 'H8', '--', '--', 'V8', '--', 'V8', 'V8', '--', '--', '--', '--', '--', 'R6', 'R7', '--', '--', '--', '--', 'PP', 'R7', 'PP', 'PP', '--', '--', '--', 'V4', '--', '--', '--', 'R7', 'R5', 'PP', 'PP', '--', '--', '--', 'PP', 'PP', '--', 'PP', '--', 'H8'],
            ['--', 'V8', '--', 'PP', 'PP', 'PP', 'PP', 'PP', 'R7', 'PP', '--', 'PP', 'PP', 'PP', 'H8', 'PP', 'R7', '--', 'V8', 'PP', 'H8', 'H8', 'PP', 'PP', '--', 'PP', '--', '--', 'R7', 'PP', '--', 'R7', 'V8', '--', 'H8', 'PP', 'PP', 'PP', 'PP', 'R9', 'PP', 'R7', '--', '--', 'R7', '--', 'H8', '--', 'PP', 'PP'],
            ['--', '--', '--', 'PP', 'PP', 'R9', '--', '--', 'R7', 'PP', 'PP', '--', 'H8', 'PP', 'V8', '--', '--', 'PP', 'H8', '--', 'H8', 'PP', '--', 'H8', 'PP', '--', 'V8', 'PP', 'R7', '--', 'PP', 'PP', 'V8', 'R7', 'V8', 'H8', '--', 'H8', 'V8', '--', '--', '--', 'R7', 'PP', '--', 'R7', '--', 'PP', '--', 'PP'],
            ['PP', 'PP', 'R9', 'PP', 'PP', '--', '--', '--', '--', '--', 'PP', 'H8', 'V8', '--', 'R7', 'PP', 'PP', 'PP', 'PP', '--', 'R9', 'PP', 'V1', '--', '--', '--', 'PP', 'R9', 'PP', '--', 'PP', 'PP', 'R7', 'R7', '--', '--', 'V8', 'R7', '--', 'PP', 'R7', '--', '--', '--', '--', '--', 'H8', 'R7', 'PP', '--'],
            ['PP', 'R7', '--', 'PP', '--', 'R9', 'PP', 'V8', 'V8', '--', '--', '--', 'PP', 'PP', 'R9', 'PP', '--', '--', 'V8', 'PP', 'PP', 'PP', 'PP', 'PP', 'V1', 'V8', 'V8', 'H8', 'PP', '--', 'H8', '--', 'V2', 'H8', 'PP', 'PP', 'PP', 'PP', '--', 'V8', '--', 'PP', 'R9', '--', 'V8', 'PP', '--', '--', '--', 'PP'],
            ['R7', 'V8', 'PP', 'H5', 'PP', 'PP', 'PP', '--', '--', '--', '--', '--', 'H8', 'R7', 'R7', 'PP', 'PP', 'R9', 'PP', '--', 'PP', 'PP', '--', '--', 'PP', '--', '--', '--', 'PP', 'V8', '--', 'V8', 'PP', '--', 'PP', 'PP', '--', 'V8', 'R5', 'R9', 'V8', 'PP', 'PP', 'PP', '--', '--', 'PP', '--', 'PP', 'PP'],
            ['--', 'PP', 'PP', 'PP', '--', '--', 'PP', '--', 'PP', 'PP', 'H8', '--', 'PP', 'R7', '--', '--', 'R7', 'PP', 'PP', '--', '--', 'V8', 'V8', '--', '--', '--', 'PP', '--', 'R9', 'PP', 'PP', 'V8', 'PP', '--', 'H8', 'R9', 'PP', '--', 'PP', '--', 'R7', '--', '--', '--', 'PP', 'H8', 'H8', 'H8', '--', 'PP'],
            ['PP', 'PP', 'H8', 'V8', 'R9', '--', '--', 'PP', 'V8', 'R9', 'R7', '--', 'PP', '--', '--', '--', '--', 'H8', 'PP', 'PP', 'R3', 'R9', '--', '--', '--', 'PP', 'PP', 'PP', 'PP', '--', 'R7', '--', '--', '--', '--', '--', 'PP', 'PP', 'PP', '--', 'PP', '--', '--', '--', '--', '--', 'PP', 'H8', 'PP', '--'],
            ['PP', '--', 'PP', '--', 'V8', 'R7', '--', '--', 'PP', '--', 'PP', '--', '--', 'PP', 'H8', 'PP', 'R7', '--', 'PP', 'V8', '--', '--', 'PP', 'R9', 'PP', 'H6', 'PP', 'R7', 'V8', 'H8', 'PP', 'V8', 'PP', 'H8', '--', '--', 'PP', '--', 'H8', 'PP', '--', 'V8', 'PP', '--', 'R9', '--', '--', '--', '--', 'PP'],
            ['PP', 'PP', 'PP', '--', 'H8', 'V8', 'R7', 'PP', 'PP', 'PP', 'R7', 'PP', 'H8', 'PP', 'V8', 'V8', 'PP', 'V8', '--', 'R7', '--', 'PP', '--', 'H8', 'PP', '--', 'PP', 'PP', 'H8', '--', 'PP', 'PP', '--', 'H8', 'PP', 'R7', 'PP', 'R7', 'PP', 'H8', 'H8', '--', 'R9', '--', 'V8', '--', 'V8', 'PP', 'PP', 'PP'],
            ['--', '--', 'H8', 'PP', 'PP', 'R9', 'PP', 'H8', '--', 'V8', '--', 'R7', 'PP', '--', 'PP', '--', 'PP', '--', 'H8', '--', 'H8', '--', 'PP', '--', 'R7', 'R9', 'PP', '--', 'V8', 'H8', 'V8', 'H8', '--', 'PP', '--', 'R7', 'R7', 'R9', 'V8', 'PP', '--', '--', 'R9', 'H8', 'PP', 'PP', 'PP', 'R7', 'PP', 'R7'],
            ['R9', '--', '--', 'H1', 'R7', 'PP', 'V8', '--', '--', '--', '--', '--', 'H8', '--', 'R7', 'R7', 'PP', '--', 'PP', 'H8', '--', '--', 'PP', '--', 'V7', 'PP', 'PP', 'R7', '--', '--', 'H8', 'V8', 'PP', '--', 'R9', 'R7', '--', 'PP', '--', 'R7', 'PP', '--', 'PP', 'PP', '--', 'R7', 'V8', 'PP', 'PP', 'R9'],
            ['V8', 'V8', '--', 'H8', 'PP', 'PP', 'PP', 'H8', 'H8', 'R7', 'PP', 'V8', 'V8', 'V8', '--', 'R7', 'PP', 'PP', '--', 'H8', '--', 'PP', '--', 'PP', 'H8', '--', 'R9', 'R5', '--', 'PP', 'PP', '--', '--', 'R9', 'PP', '--', 'H8', 'V8', '--', 'V6', 'PP', '--', 'PP', 'PP', 'PP', 'V8', '--', 'H8', 'PP', '--'],
            ['R7', 'PP', '--', 'R7', '--', 'PP', 'H8', '--', 'PP', 'R7', 'H8', 'H8', '--', 'R9', 'H8', 'PP', 'R9', 'PP', 'R9', '--', '--', 'R9', 'V8', 'PP', 'PP', 'R9', 'PP', 'V8', 'PP', '--', 'PP', 'V8', 'R7', 'V8', '--', 'PP', 'PP', '--', 'PP', '--', 'PP', 'PP', 'PP', '--', '--', 'PP', 'V8', 'H8', 'PP', 'PP'],
            ['V8', '--', 'PP', 'PP', 'PP', '--', 'R7', 'PP', 'PP', 'PP', '--', 'V8', 'R7', 'H8', 'H8', '--', '--', 'PP', 'V8', '--', 'V8', 'R7', 'V8', 'R9', 'H8', 'R7', 'PP', 'PP', 'PP', '--', 'R7', '--', '--', '--', 'PP', 'PP', 'H8', 'PP', 'R7', 'PP', 'V8', 'V8', '--', 'R7', 'PP', '--', 'PP', 'PP', 'V8', 'R1'],
            ['R9', '--', 'PP', 'PP', '--', '--', '--', 'PP', 'PP', '--', '--', 'R9', 'PP', 'PP', '--', '--', 'V8', 'PP', 'R7', '--', 'PP', 'R7', 'R9', '--', 'PP', 'R9', 'PP', 'PP', 'R7', 'PP', '--', 'PP', '--', 'R1', '--', '--', '--', 'PP', '--', '--', '--', 'PP', 'PP', '--', 'PP', 'PP', 'H8', 'H8', 'H8', 'H2'],
            ['H8', 'PP', 'PP', '--', 'H8', 'PP', '--', 'PP', 'PP', 'R7', '--', '--', 'H8', '--', 'H8', '--', 'PP', '--', 'PP', '--', '--', 'PP', 'R7', 'PP', 'H8', 'V8', 'PP', 'PP', 'R4', 'PP', '--', '--', '--', '--', 'R7', 'PP', 'PP', '--', 'PP', 'V4', 'R7', 'PP', 'H8', 'PP', 'PP', 'R9', '--', '--', '--', 'PP'],
            ['--', 'H8', 'PP', '--', 'PP', 'V2', 'R7', 'V8', '--', 'V5', 'PP', 'PP', '--', 'H8', 'PP', 'R7', '--', '--', 'R9', '--', '--', '--', 'PP', 'PP', 'PP', '--', 'V8', 'PP', 'R7', 'PP', '--', 'V8', 'V8', 'PP', 'R7', 'H8', '--', '--', '--', 'R9', 'PP', 'PP', 'PP', 'R7', '--', 'R8', '--', 'PP', '--', 'R7'],
            ['R7', '--', '--', '--', '--', '--', 'PP', '--', 'PP', '--', 'V8', '--', 'R7', 'V8', 'H8', '--', 'R7', 'PP', '--', 'V9', 'PP', '--', 'R9', 'PP', 'H8', '--', '--', '--', 'H8', '--', 'PP', 'PP', '--', 'R7', 'PP', '--', 'H8', 'PP', '--', '--', '--', 'H8', 'PP', 'R9', 'V8', '--', 'PP', 'V8', '--', '--'],
            ['--', '--', 'PP', 'V8', '--', '--', 'PP', 'PP', 'V8', 'PP', 'R9', 'PP', '--', 'V7', '--', 'PP', '--', '--', 'H8', '--', 'R7', 'PP', 'H8', 'PP', 'H8', 'R7', 'PP', 'H8', 'H8', '--', 'PP', '--', 'PP', 'PP', 'PP', 'PP', 'PP', 'PP', '--', 'H8', 'R7', '--', '--', '--', 'R7', 'R9', '--', 'PP', '--', '--'],
            ['--', '--', '--', '--', '--', 'PP', 'PP', 'H8', 'V8', 'PP', 'R9', 'H8', 'V8', 'V8', '--', 'PP', 'PP', 'R7', 'PP', 'R9', '--', 'V8', 'R9', 'R7', '--', 'PP', 'V8', 'R7', '--', 'PP', 'R7', 'PP', '--', 'PP', 'PP', '--', 'R9', '--', '--', 'V8', 'PP', '--', 'V8', 'PP', 'PP', '--', 'PP', 'PP', 'H8', 'V8'],
            ['PP', 'PP', 'PP', 'R9', '--', 'PP', 'PP', 'PP', '--', 'R7', '--', '--', '--', 'PP', 'PP', 'V8', 'PP', '--', 'R9', 'PP', 'PP', 'R9', 'R3', 'PP', '--', 'R7', '--', '--', 'R7', 'PP', 'V8', '--', 'V9', 'H8', '--', '--', 'PP', 'R7', '--', '--', 'PP', '--', 'PP', 'PP', 'PP', 'R3', 'PP', '--', 'R4', '--'],
            ['PP', '--', '--', 'PP', '--', 'H8', 'PP', 'H8', 'PP', 'H8', '--', 'H5', 'PP', 'H8', 'V8', 'PP', 'H8', 'V8', '--', '--', 'H8', '--', 'R7', 'PP', 'PP', 'PP', 'V8', 'V8', '--', '--', 'H8', 'PP', 'PP', 'R9', 'R7', '--', '--', '--', 'PP', 'PP', 'H8', '--', 'PP', '--', '--', 'PP', 'R9', '--', '--', '--'],
            ['--', 'R7', 'H8', 'PP', 'PP', '--', '--', 'V8', '--', 'V8', 'PP', 'V8', 'V8', 'PP', 'H8', 'H8', 'PP', 'V8', 'PP', '--', '--', '--', 'V8', '--', 'PP', 'PP', '--', 'PP', 'PP', 'PP', 'H8', 'PP', 'H8', 'PP', 'PP', 'PP', 'R7', '--', 'PP', 'H8', 'PP', 'H9', 'PP', 'PP', 'R7', 'V8', '--', '--', 'V8', 'V8'],
            ['H8', 'V8', 'V8', 'R7', '--', '--', 'R7', 'H8', '--', 'R9', 'PP', 'R9', 'PP', '--', 'H8', '--', 'H8', '--', 'PP', 'R9', 'H8', 'PP', '--', 'PP', '--', 'R7', 'H8', 'PP', '--', 'PP', 'R7', '--', '--', '--', 'PP', 'PP', 'V8', 'PP', 'H8', '--', 'R9', 'PP', 'R1', 'V8', 'R7', '--', '--', 'PP', '--', '--'],
            ['PP', 'R7', 'V8', '--', '--', 'R7', 'PP', 'H8', 'H8', '--', 'PP', 'H8', '--', '--', '--', 'PP', '--', '--', 'PP', '--', 'PP', '--', '--', 'PP', 'V8', 'R7', 'PP', '--', '--', '--', 'R9', '--', 'PP', '--', 'PP', 'R7', '--', 'R7', 'PP', 'PP', '--', 'H8', 'PP', '--', 'PP', 'R7', 'R9', 'PP', 'H8', 'PP'],
            ['PP', '--', 'PP', 'V8', '--', 'R9', 'PP', '--', 'R7', '--', '--', 'R7', 'H1', 'V7', '--', '--', '--', 'PP', '--', '--', 'R9', '--', '--', 'PP', 'PP', 'PP', 'PP', 'PP', 'V8', '--', 'R7', '--', 'PP', 'PP', 'PP', 'R7', '--', '--', '--', 'H8', '--', 'PP', 'PP', '--', '--', 'PP', 'PP', 'PP', 'PP', 'PP'],
        ]
        tablero = Tablero(copy.deepcopy(tablero_str))
        respuesta = tablero.tablero_transformado
        # Verificar formato y respuesta
        self.assertIsInstance(respuesta, list)

        for y in range(len(tablero_str)):
            for x in range(len(tablero_str[1])):
                if tablero_str[y][x] == "--":
                    self.assertEqual(respuesta[y][x], "--")
                elif tablero_str[y][x] == "PP":
                    self.assertEqual(respuesta[y][x], "PP")
                else:
                    self.assertIsInstance(respuesta[y][x], PiezaExplosiva)
                    respuesta_esperada = PiezaExplosiva(
                        int(tablero_str[y][x][1:]),
                        tablero_str[y][x][0],
                        [y, x]
                    )
                    self.assertEqual(respuesta[y][x].__dict__, respuesta_esperada.__dict__)


if __name__ == "__main__":
    from io import StringIO
    from unittest.mock import patch

    with patch('sys.stdout', new=StringIO()):
        unittest.main(verbosity=1)
